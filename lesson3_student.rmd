Lesson 3
========================================================

***

### What to Do First?
Notes:
 
***

### Pseudo-Facebook User Data
Notes:

```{r Pseudo-Facebook User Data}
getwd()
list.files()
pf <- read.csv('pseudo_facebook.tsv', sep='\t')
names(pf)

```

***

### Histogram of Users' Birthdays
Notes:

```{r Histogram of Users\' Birthdays}
install.packages('ggplot2')
library(ggplot2)

qplot(x = dob_day, data = pf) +
  scale_x_continuous(breaks=1:31)

install.packages('ggthemes', dependencies = TRUE)
library(ggthemes)

theme_set(theme_minimal(12))

ggplot(aes(x = dob_day), data = pf) + 
  geom_histogram(binwidth = 1) +
  scale_x_continuous(breaks = 1:31)
```

***

#### What are some things that you notice about this histogram?
Response:
First day of the month has a lot of birthdays which is surprising. The last day of the month, the 31st, is less common which makes sense since not all months have a 31st day.

***

### Moira's Investigation
Notes:

***

### Estimating Your Audience Size
Notes:

***

#### Think about a time when you posted a specific message or shared a photo on Facebook. What was it?
Response:

#### How many of your friends do you think saw that post?
Response:

#### Think about what percent of your friends on Facebook see any posts or comments that you make in a month. What percent do you think that is?
Response:

***

### Perceived Audience Size
Notes:
On average, only a quarter of the actual audience was estimated by each individual.

***
### Faceting
Notes:
Adding another variable to split plots into multiple plots

```{r Faceting}
ggplot(aes(x = dob_day), data = pf) + 
  geom_histogram(binwidth = 1) +
  scale_x_continuous(breaks = 1:31) +
  facet_wrap(~dob_month, ncol = 3)


```

#### Let’s take another look at our plot. What stands out to you here?
Response:
January 1st is the most common birthday which indicates that people use the default value to protect their privacy or simply don't want to enter their actual birthdays.

***

### Be Skeptical - Outliers and Anomalies
Notes:
It is important to question outliers and anomalies to understand how to deal with them. In some cases, top coding data, i.e. anonymizing data, may be necessary to protect individuals with extreme values.

***

### Moira's Outlier
Notes:
#### Which case do you think applies to Moira’s outlier?
Response:
Bad data in an extreme case
***

### Friend Count
Notes:
Lower values are over-represented with outliers close to 5000.

#### What code would you enter to create a histogram of friend counts?

```{r Friend Count}
ggplot(aes(x = friend_count), data = pf) +
  geom_histogram(binwidth = 20)

```

#### How is this plot similar to Moira's first plot?
Response:
Moira's data also had high outliers with the majority of people having lower numbers of friends.
***

### Limiting the Axes
Notes:

```{r Limiting the Axes}
ggplot(aes(x = friend_count), data = pf) +
  geom_histogram() +
  scale_x_continuous(limits = c(0, 1000))
```

### Exploring with Bin Width
Notes:
Allows you to see trends in the dat more clearly than just the default bin width of 30.
***

### Adjusting the Bin Width
Notes:

### Faceting Friend Count
```{r Faceting Friend Count}
# What code would you add to create a facet the histogram by gender?
# Add it to the code below.
ggplot(aes(x = friend_count), data = pf) +
  geom_histogram() +  
  scale_x_continuous(limits = c(0, 1000),
                     breaks = seq(0, 1000, 50)) + 
  facet_wrap(~gender)
```

***

### Omitting NA Values
Notes:
Always be careful when omitting NAs because we may be missing out on valuable information.
```{r Omitting NA Values}
ggplot(aes(x = friend_count), data = subset(pf, !is.na(gender))) +
  geom_histogram() +
  scale_x_continuous(limits = c(0, 1000), breaks = seq(0, 1000, 50)) +
  facet_wrap(~gender)
```

***

### Statistics 'by' Gender
Notes:

```{r Statistics \'by\' Gender}
table(pf$gender)
by(pf$friend_count, pf$gender, summary)
```

#### Who on average has more friends: men or women?
Response:
Women

#### What's the difference between the median friend count for women and men?
Response:
22

#### Why would the median be a better measure than the mean?
Response:
The mean considers outliers more. 

***

### Tenure
Notes:

```{r Tenure}
ggplot(aes(x = tenure), data = pf) +
  geom_histogram(binwidth = 30, color = 'black', fill = '#099DD9')


```

***

#### How would you create a histogram of tenure by year?

```{r Tenure Histogram by Year}
ggplot(aes(x = tenure/365), data = pf) +
  geom_histogram(binwidth = .25, color = 'black', fill = '#F79420')

```

***

### Labeling Plots
Notes:

```{r Labeling Plots}
ggplot(aes(x = tenure / 365), data = pf) +
  geom_histogram(color = 'black', fill = '#F79420') +
  scale_x_continuous(breaks = seq(1, 7, 1), limits = c(0, 7)) +
  xlab('Number of years using Facebook') +
  ylab('Number of users in sample')
```

***

### User Ages
Notes:

```{r User Ages}
ggplot(aes(x = age), data = pf) +
  geom_histogram(binwidth = 1) +
  scale_x_continuous(breaks = seq(0, 120, 10)) + 
  xlab('Age of users in years') + 
  ylab('Number of users with certain age')

```

#### What do you notice?
Response:
Most people are aged 18. Most spikes are in mid to end 20s. It is odd that there are spikes above 100 years. 
***

### The Spread of Memes
Notes:

***

### Lada's Money Bag Meme
Notes:
Using log transformations makes it easier to understand the fluctuations in the data.
***

### Transforming Data
Notes:

***

### Add a Scaling Layer
Notes:

```{r Add a Scaling Layer}
# untransformed data
summary(pf$friend_count)
# log10 transformed data
summary(log10(pf$friend_count + 1))
# squareroot transformed data
summary(sqrt(pf$friend_count))

# installing gridExtra library
install.packages('gridExtra')
library(gridExtra)

# define plots
p1 <- ggplot(aes(x = friend_count + 1), data = pf) +
  geom_histogram()
p2 <- p1 + scale_x_log10()
p3 <- p1 + scale_x_sqrt()

# arrange plots in grid
grid.arrange(p1, p2, p3, ncol = 1)

```

***


### Frequency Polygons

```{r Frequency Polygons}

```

***

### Likes on the Web
Notes:

```{r Likes on the Web}

```


***

### Box Plots
Notes:

```{r Box Plots}

```

#### Adjust the code to focus on users who have friend counts between 0 and 1000.

```{r}

```

***

### Box Plots, Quartiles, and Friendships
Notes:

```{r Box Plots, Quartiles, and Friendships}

```

#### On average, who initiated more friendships in our sample: men or women?
Response:
#### Write about some ways that you can verify your answer.
Response:
```{r Friend Requests by Gender}

```

Response:

***

### Getting Logical
Notes:

```{r Getting Logical}

```

Response:

***

### Analyzing One Variable
Reflection:

***

Click **KnitHTML** to see all of your hard work and to have an html
page of this lesson, your answers, and your notes!